<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gRPC and LibTorch with Bazel | Eugene Paulia</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css">
    <style>
        :root {
            --primary: #2a3b4c;
            --secondary: #5d7a98;
            --accent: #61dafb;
            --light: #f5f8fa;
            --dark: #1a1a2e;
            --text: #333;
            --text-light: #666;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Mona Sans, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
        }
        
        body {
            background-color: var(--light);
            color: var(--text);
            line-height: 1.6;
        }
        
        .blog-header {
            position: relative;
            height: 60vh;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            background-color: var(--dark);
        }
        
        #particles-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        
        .header-content {
            position: relative;
            z-index: 2;
            text-align: center;
            color: white;
            max-width: 800px;
            padding: 0 2rem;
        }
        
        .blog-date {
            font-size: 1rem;
            color: var(--accent);
            margin-bottom: 1rem;
            letter-spacing: 1px;
        }
        
        .blog-title {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }
        
        .blog-author {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .blog-tags {
            margin-top: 1.5rem;
            display: flex;
            gap: 0.75rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .blog-tag {
            background-color: rgba(97, 218, 251, 0.2);
            color: var(--accent);
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .blog-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }
        
        .blog-content p {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            color: var(--text);
        }
        
        .blog-content h2 {
            font-size: 2rem;
            color: var(--primary);
            margin: 3rem 0 1.5rem;
            position: relative;
        }
        
        .blog-content h3 {
            font-size: 1.5rem;
            color: var(--primary);
            margin: 2rem 0 1rem;
        }
        
        .blog-content ul, .blog-content ol {
            margin: 1.5rem 0;
            padding-left: 2rem;
        }
        
        .blog-content li {
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
        }
        
        code {
            background-color: #f4f4f4;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Fira Code', Mona Sans, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif;
            font-size: 0.9em;
        }
        
        pre {
            background-color: #f8f8f8;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 2rem 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        pre code {
            background-color: transparent;
            padding: 0;
            font-size: 0.95rem;
            line-height: 1.6;
        }
        
        .back-to-home {
            position: fixed;
            top: 2rem;
            left: 2rem;
            z-index: 100;
            background-color: white;
            color: var(--primary);
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .back-to-home:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            color: var(--accent);
        }
        
        @media (max-width: 768px) {
            .blog-title {
                font-size: 2.5rem;
            }
            
            .blog-content {
                padding: 2rem 1.5rem;
            }
            
            .back-to-home {
                top: 1rem;
                left: 1rem;
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <a href="../index.html#projects" class="back-to-home" id="back-link">
        <i class="fas fa-arrow-left"></i>
        Back to Projects
    </a>
    
    <header class="blog-header">
        <canvas id="particles-canvas"></canvas>
        <div class="header-content">
            <div class="blog-date">August 6, 2024</div>
            <h1 class="blog-title">gRPC and LibTorch with Bazel</h1>
            <div class="blog-author">by Noel Thomas, Founder</div>
            <div class="blog-tags">
                <span class="blog-tag">C++</span>
                <span class="blog-tag">gRPC</span>
                <span class="blog-tag">Bazel</span>
            </div>
        </div>
    </header>
    
    <article class="blog-content">
        <p>Recently, I encountered two dependencies for my project that required unconventional methods for adding them. This blog post details the integration of gRPC and LibTorch using Bazel build system.</p>
        
        <h2>Background</h2>
        <p>Bazel, developed by Google, is a widely-used build and dependency management system. It offers significant convenience for managing complex builds and dependencies. However, integrating new dependencies, especially those with unique build requirements like gRPC and LibTorch, can be challenging.</p>
        
        <h2>The Challenge</h2>
        <p>The main challenges I faced were:</p>
        <ul>
            <li>Setting up gRPC with proper protocol buffer compilation</li>
            <li>Integrating LibTorch while maintaining compatibility</li>
            <li>Ensuring both dependencies work together seamlessly</li>
        </ul>
        
        <h2>Solution Overview</h2>
        <p>The solution involved several key components:</p>
        
        <h3>1. WORKSPACE Configuration</h3>
        <pre><code class="language-python">load("@bazel_tools//tools/build_defs/repo:http.bzl", "http_archive")

http_archive(
    name = "com_github_grpc_grpc",
    urls = ["https://github.com/grpc/grpc/archive/v1.45.0.tar.gz"],
    strip_prefix = "grpc-1.45.0",
)

# Additional configuration...</code></pre>
        
        <h3>2. BUILD File Setup</h3>
        <pre><code class="language-python">cc_binary(
    name = "my_service",
    srcs = ["service.cc"],
    deps = [
        "@com_github_grpc_grpc//:grpc++",
        "@torch",
    ],
)</code></pre>
        
        <p>... [Rest of the blog post content] ...</p>
    </article>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-python.min.js"></script>
    <script>
        // Check referrer and update back link
        document.addEventListener('DOMContentLoaded', function() {
            const referrer = document.referrer;
            const backLink = document.getElementById('back-link');
            
            if (referrer.includes('all-projects.html')) {
                backLink.href = 'all-projects.html';
            }
        });

        // Particle system animation
        const canvas = document.getElementById('particles-canvas');
        const ctx = canvas.getContext('2d');
        
        // Set canvas size
        function resizeCanvas() {
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
        }
        
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);
        
        // Particle class
        class Particle {
            constructor() {
                this.reset();
            }
            
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.vx = Math.random() * 0.2 - 0.1;
                this.vy = Math.random() * 0.2 - 0.1;
                this.radius = Math.random() * 2 + 1;
                this.opacity = Math.random() * 0.5 + 0.2;
            }
            
            update() {
                this.x += this.vx;
                this.y += this.vy;
                
                if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
                if (this.y < 0 || this.y > canvas.height) this.vy *= -1;
            }
            
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(97, 218, 251, ${this.opacity})`;
                ctx.fill();
            }
        }
        
        // Create particles
        const particles = Array.from({ length: 100 }, () => new Particle());
        
        // Animation loop
        function animate() {
            requestAnimationFrame(animate);
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            particles.forEach(particle => {
                particle.update();
                particle.draw();
            });
            
            // Draw connections
            particles.forEach((p1, i) => {
                particles.slice(i + 1).forEach(p2 => {
                    const dx = p1.x - p2.x;
                    const dy = p1.y - p2.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < 100) {
                        ctx.beginPath();
                        ctx.moveTo(p1.x, p1.y);
                        ctx.lineTo(p2.x, p2.y);
                        ctx.strokeStyle = `rgba(97, 218, 251, ${0.2 * (1 - distance / 100)})`;
                        ctx.stroke();
                    }
                });
            });
        }
        
        animate();
    </script>
</body>
</html> 